<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Overlay Control Panel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Hide scrollbar for all browsers while keeping scroll functionality */
        html {
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE and Edge */
        }

        html::-webkit-scrollbar {
            display: none;
            /* Chrome, Safari, Opera */
        }

        body {
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: #0f0f23;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .main-container {
            width: 100%;
            max-width: 1920px;
            overflow-x: hidden;
        }

        /* Preview Frame Container */
        .preview-frame {
            position: relative;
            width: 1920px;
            height: 1080px;
            background: #1a1a2e;
            border: 2px solid #3a3a5a;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        .overlay {
            position: absolute;
            /* already absolute on the frame */
            overflow: hidden;
            transition:
                transform 0.5s ease,
                left 0.6s cubic-bezier(0.22, 1, 0.36, 1),
                top 0.6s cubic-bezier(0.22, 1, 0.36, 1),
                width 0.6s ease,
                height 0.6s ease;
        }

        /* Label is absolute INSIDE the overlay */
        .overlay-label {
            position: absolute;
            bottom: 10px;
            right: 10px;
            padding: 4px 10px;
            font-size: 32px;
            font-weight: 700;
            background: rgba(0, 0, 0, 0.65);
            color: white;
            border-radius: 6px;
            z-index: 3;
            pointer-events: none;
        }

        .overlay-label-left {
            position: absolute;
            bottom: 10px;
            left: 10px;
            padding: 4px 10px;
            font-size: 32px;
            font-weight: 700;
            background: rgba(0, 0, 0, 0.65);
            color: white;
            border-radius: 6px;
            z-index: 3;
            pointer-events: none;
        }

        .overlay-label-upleft {
            position: absolute;
            top: 10px;
            left: 10px;
            padding: 4px 10px;
            font-size: 32px;
            font-weight: 700;
            background: rgba(0, 0, 0, 0.65);
            color: white;
            border-radius: 6px;
            z-index: 3;
            pointer-events: none;
        }

        .overlay:hover {
            border-color: rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 16px rgba(255, 255, 255, 0.2);
        }

        .overlay-1 {
            background: linear-gradient(135deg, rgba(138, 43, 226, 0.4) 0%, rgba(75, 0, 130, 0.4) 100%);
        }

        .overlay-2 {
            background: linear-gradient(135deg, rgba(30, 144, 255, 0.4) 0%, rgba(0, 191, 255, 0.4) 100%);
        }

        .overlay-3 {
            background: linear-gradient(135deg, rgba(255, 20, 147, 0.4) 0%, rgba(255, 105, 180, 0.4) 100%);
        }

        .overlay-4 {
            background: linear-gradient(135deg, rgba(50, 205, 50, 0.4) 0%, rgba(34, 139, 34, 0.4) 100%);
        }

        /* YouTube embed */
        .overlay-video {
            width: 100%;
            height: 100%;
            border: none;
            z-index: 1;
        }

        /* Control Panel Container */
        .control-panel-frame {
            width: 1920px;
            min-height: 400px;
            background: linear-gradient(135deg, #1e1e3f 0%, #2a2a4a 100%);
            border: 2px solid #3a3a5a;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        .control-panel-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 20px;
            color: #ffffff;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .global-controls {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .global-controls label {
            font-size: 14px;
            color: #b0b0c0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        input[type="color"] {
            width: 100px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        input[type="color"]:hover {
            border-color: rgba(255, 255, 255, 0.3);
        }

        .controls-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .controls-grid-large {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .controls-grid-main {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        .overlay-control {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .overlay-control:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .overlay-control h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #fff;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            font-size: 13px;
            margin-bottom: 5px;
            color: #b0b0c0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 500;
        }

        .control-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .input-wrapper {
            position: relative;
        }

        input[type="number"] {
            width: 100%;
            padding: 10px 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #ffffff;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        input[type="number"]:hover {
            border-color: rgba(255, 255, 255, 0.3);
        }

        input[type="text"] {
            width: 100%;
            padding: 10px 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            color: #ffffff;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        input[type="text"]:hover {
            border-color: rgba(255, 255, 255, 0.3);
        }

        .apply-button-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .apply-button {
            padding: 14px 50px;
            font-size: 16px;
            font-weight: 600;
            color: #ffffff;
            background-color: #1e1e1e;
            /* nearly black, smooth dark tone */
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
            margin-left: 20px;
        }

        .apply-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.6);
        }

        .apply-button:active {
            transform: translateY(0);
        }

        .reset-button {
            padding: 14px 50px;
            font-size: 16px;
            font-weight: 600;
            color: #ffffff;
            background-color: #1e1e1e;
            /* nearly black, smooth dark tone */
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
            margin-left: 20px;
        }

        .reset-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.8);
            background-color: #2c2c2c;
            /* slightly lighter on hover */
        }

        .reset-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
        }


        /* Responsive hint */
        .scale-hint {
            font-size: 11px;
            color: #808090;
            margin-top: 3px;
        }

        /* Marquee container */
        .marquee-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 48px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 20;
            overflow: hidden;
            border-top: 2px solid #6b7280;
        }

        .marquee-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
        }

        .marquee-text {
            position: absolute;
            white-space: nowrap;
            color: white;
            font-size: 24px;
            font-weight: 700;
            animation: marquee 20s linear infinite;
        }

        @keyframes marquee {
            0% {
                transform: translateX(175%);
            }

            100% {
                transform: translateX(-100%);
            }
        }

        /* Commentator and Logo Overlays */
        .commentator-overlay {
            position: absolute;
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.9) 0%, rgba(20, 20, 40, 0.9) 100%);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            padding: 12px 24px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
            z-index: 10;
        }

        .commentator-name {
            font-size: 20px;
            font-weight: 700;
            color: #ffffff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
            margin: 0;
        }

        .commentator-label {
            font-size: 12px;
            color: #b0b0c0;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .logo-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            background: transparent;
            border-radius: 50%;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 50%;
        }


        /* Positioning */
        #commentator1 {
            top: 20px;
            left: 20px;
        }

        #commentator2 {
            top: 20px;
            right: 20px;
        }

        #communityLogo {
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 100px;
        }

        #gameLogo {
            top: 140px;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 80px;
        }
    </style>
</head>

<body>
    <div class="main-container">
        <!-- Preview Frame Container (1920x1080) -->
        <div class="preview-frame" id="previewFrame">
            <div class="overlay overlay-1" id="overlay1">
                <div class="overlay-label-left" id="overlay1-label"><span id="name1">Overlay 1</span>
                </div>
                <div id="player-1" style="width: 100%; height: 100%;"></div>
            </div>

            <div class="overlay overlay-2" id="overlay2">
                <div class="overlay-label" id="overlay2-label"><span id="name2">Overlay 2</span></div>
                <div id="player-2" style="width: 100%; height: 100%;"></div>
            </div>

            <div class="overlay overlay-3" id="overlay3">
                <div class="overlay-label-left" id="overlay3-label"><span id="name3">Overlay 3</span>
                </div>
                <div id="player-3" style="width: 100%; height: 100%;"></div>
            </div>

            <div class="overlay overlay-4" id="overlay4">
                <div class="overlay-label" id="overlay4-label"><span id="name4">Overlay 4</span></div>
                <div id="player-4" style="width: 100%; height: 100%;"></div>
            </div>


            <!-- Commentator Overlays -->
            <div class="commentator-overlay" id="commentator1">
                <div class="commentator-label">Commentator 1</div>
                <p class="commentator-name" id="commentator1-name">John Doe</p>
            </div>

            <div class="commentator-overlay" id="commentator2">
                <div class="commentator-label">Commentator 2</div>
                <p class="commentator-name" id="commentator2-name">Jane Smith</p>
            </div>

            <div class="logo-overlay center-logo">
                <img src="./IHC_Bulat.png" alt="IHC LOGO" class="logo-image">
            </div>


            <!-- Marquee Text -->
            <div class="marquee-container">
                <div class="marquee-wrapper">
                    <div class="marquee-text">Jangan Lupa Like, Comment dan Follow supaya IHC ada event-event yang
                        menarik kedepannya | Indonesian Hitless Community</div>
                </div>
            </div>
        </div>
        <!-- Control Panel Container (1920x1080) -->
        <div class="control-panel-frame">
            <h2 class="control-panel-title">Overlay Control Panel</h2>

            <!-- Global Controls -->
            <div class="controls-grid-main">
                <button id="btn-focus1" class="reset-button" onclick="resetToFocus1()">Fokus 1</button>
                <button id="btn-focus2" class="reset-button" onclick="resetToFocus2()">Fokus 2</button>
                <button id="btn-focus3" class="reset-button" onclick="resetToFocus3()">Fokus 3</button>
                <button id="btn-focus4" class="reset-button" onclick="resetToFocus4()">Fokus 4</button>

                <button id="btn-togglemute1" class="reset-button" onclick="togglemute1()">Toggle Mute 1</button>
                <button id="btn-togglemute2" class="reset-button" onclick="togglemute2()">Toggle Mute 2</button>
                <button id="btn-togglemute3" class="reset-button" onclick="togglemute3()">Toggle Mute 3</button>
                <button id="btn-togglemute4" class="reset-button" onclick="togglemute4()">Toggle Mute 4</button>
                <button id="btn-reload1" class="reset-button" onclick="reload1()">Reload 1</button>
                <button id="btn-reload2" class="reset-button" onclick="reload2()">Reload 2</button>
                <button id="btn-reload3" class="reset-button" onclick="reload3()">Reload 3</button>
                <button id="btn-reload4" class="reset-button" onclick="reload4()">Reload 4</button>
                <button class="reset-button" onclick="resetToNormalState()">Normal State</button>
                <button class="reset-button" onclick="muteall()">Mute All</button>
                <button class="reset-button" onclick="unmuteall()">Unmute All</button>

            </div>
            <div class="controls-grid-large">
                <div class="overlay-control">
                    <h3>Main Container</h3>
                    <div class="control-group">
                        <div class="control-row">
                            <div class="input-wrapper">
                                <label for="bg-image">Main Container Background:</label>
                                <input type="file" id="bg-image" accept="image/*">
                                <button class="apply-button" style="padding: 10px 30px; font-size: 14px;"
                                    onclick="applyBackgroundImage()">Apply BG</button>
                            </div>
                            <div class="input-wrapper">
                                <label for="main-logo-file">Main Logo:</label>
                                <input type="file" id="main-logo-file" accept="image/*">
                                <button class="apply-button" style="padding: 10px 30px; font-size: 14px;"
                                    onclick="applyMainLogo()">Apply Logo</button>
                            </div>
                        </div>

                    </div>
                    <div class="control-group">
                        <label>Comentator Name</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="text" id="commentator1-input" placeholder="Comentator 1"
                                    value="Budi Siregar">
                            </div>
                            <div class="input-wrapper">
                                <input type="text" id="commentator2-input" placeholder="Comentator 2" value="Joe Mama">
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Marquee Text</label>
                        <input type="text" id="marquee-text-input" placeholder="Marquee Text"
                            value="Jangan Lupa Like, Comment dan Follow supaya IHC ada event-event yang menarik kedepannya | Indonesian Hitless Community">
                    </div>
                </div>
            </div>

            <div class="controls-grid">
                <!-- Overlay 1 Controls -->
                <div class="overlay-control">
                    <h3>Overlay 1</h3>
                    <div class="control-group">
                        <label>Runner Name</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="text" id="runner1-input" placeholder="Runner 1" value="Budi Siregar">
                                <div class="scale-hint">Nama Runner</div>
                            </div>

                        </div>
                    </div>
                    <div class="control-group">
                        <label>Url Youtube</label>
                        <input type="text" id="runner1-youtube-url" placeholder="Url Youtube"
                            value="https://www.youtube.com/watch?v=rRzxEiBLQCA">
                        <div class="scale-hint">Url Youtube</div>
                    </div>
                    <div class="control-group">
                        <label>Position</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="number" id="overlay1-x" placeholder="X (px)" value="145">
                            </div>
                            <div class="input-wrapper">
                                <input type="number" id="overlay1-y" placeholder="Y (px)" value="65">
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Width (px)</label>
                        <input type="number" id="overlay1-width" placeholder="Width" value="800">
                        <div class="scale-hint">Height auto-calculated (16:9 ratio)</div>
                    </div>
                    <div class="control-group">
                        <label>Scale</label>
                        <input type="number" id="overlay1-scale" placeholder="Scale" value="1.0" step="0.1" min="0.1">
                        <div class="scale-hint">1.0 = 100%, 0.5 = 50%, 2.0 = 200%</div>
                    </div>
                    <div class="control-group">
                        <label>Z-Index</label>
                        <input type="number" id="overlay1-z-index" placeholder="Z-Index" value="1">
                    </div>
                </div>

                <!-- Overlay 2 Controls -->
                <div class="overlay-control">
                    <h3>Overlay 2</h3>
                    <div class="control-group">
                        <label>Runner Name</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="text" id="runner2-input" placeholder="Runner 2" value="Budi Siregar">
                                <div class="scale-hint">Nama Runner</div>
                            </div>

                        </div>
                    </div>
                    <div class="control-group">
                        <label>Url Youtube</label>
                        <input type="text" id="runner2-youtube-url" placeholder="Url Youtube"
                            value="https://www.youtube.com/watch?v=rRzxEiBLQCA">
                        <div class="scale-hint">Url Youtube</div>
                    </div>
                    <div class="control-group">
                        <label>Position</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="number" id="overlay2-x" placeholder="X (px)" value="975">
                            </div>
                            <div class="input-wrapper">
                                <input type="number" id="overlay2-y" placeholder="Y (px)" value="65">
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Width (px)</label>
                        <input type="number" id="overlay2-width" placeholder="Width" value="800">
                        <div class="scale-hint">Height auto-calculated (16:9 ratio)</div>
                    </div>
                    <div class="control-group">
                        <label>Scale</label>
                        <input type="number" id="overlay2-scale" placeholder="Scale" value="1.0" step="0.1" min="0.1">
                        <div class="scale-hint">1.0 = 100%, 0.5 = 50%, 2.0 = 200%</div>
                    </div>
                    <div class="control-group">
                        <label>Z-Index</label>
                        <input type="number" id="overlay2-z-index" placeholder="Z-Index" value="2">
                    </div>
                </div>

                <!-- Overlay 3 Controls -->
                <div class="overlay-control">
                    <h3>Overlay 3</h3>
                    <div class="control-group">
                        <label>Runner Name</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="text" id="runner3-input" placeholder="Runner 3" value="Budi Siregar">
                                <div class="scale-hint">Nama Runner</div>
                            </div>

                        </div>
                    </div>
                    <div class="control-group">
                        <label>Url Youtube</label>
                        <input type="text" id="runner3-youtube-url" placeholder="Url Youtube"
                            value="https://www.youtube.com/watch?v=rRzxEiBLQCA">
                        <div class="scale-hint">Url Youtube</div>
                    </div>
                    <div class="control-group">
                        <label>Position</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="number" id="overlay3-x" placeholder="X (px)" value="145">
                            </div>
                            <div class="input-wrapper">
                                <input type="number" id="overlay3-y" placeholder="Y (px)" value="540">
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Width (px)</label>
                        <input type="number" id="overlay3-width" placeholder="Width" value="800">
                        <div class="scale-hint">Height auto-calculated (16:9 ratio)</div>
                    </div>
                    <div class="control-group">
                        <label>Scale</label>
                        <input type="number" id="overlay3-scale" placeholder="Scale" value="1.0" step="0.1" min="0.1">
                        <div class="scale-hint">1.0 = 100%, 0.5 = 50%, 2.0 = 200%</div>
                    </div>
                    <div class="control-group">
                        <label>Z-Index</label>
                        <input type="number" id="overlay3-z-index" placeholder="Z-Index" value="3">
                    </div>
                </div>

                <!-- Overlay 4 Controls -->
                <div class="overlay-control">
                    <h3>Overlay 4</h3>
                    <div class="control-group">
                        <label>Runner Name</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="text" id="runner4-input" placeholder="Runner 4" value="Budi Siregar">
                                <div class="scale-hint">Nama Runner</div>
                            </div>

                        </div>
                    </div>
                    <div class="control-group">
                        <label>Url Youtube</label>
                        <input type="text" id="runner4-youtube-url" placeholder="Url Youtube"
                            value="https://www.youtube.com/watch?v=rRzxEiBLQCA">
                        <div class="scale-hint">Url Youtube</div>
                    </div>
                    <div class="control-group">
                        <label>Position</label>
                        <div class="control-row">
                            <div class="input-wrapper">
                                <input type="number" id="overlay4-x" placeholder="X (px)" value="975">
                            </div>
                            <div class="input-wrapper">
                                <input type="number" id="overlay4-y" placeholder="Y (px)" value="540">
                            </div>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>Width (px)</label>
                        <input type="number" id="overlay4-width" placeholder="Width" value="800">
                        <div class="scale-hint">Height auto-calculated (16:9 ratio)</div>
                    </div>
                    <div class="control-group">
                        <label>Scale</label>
                        <input type="number" id="overlay4-scale" placeholder="Scale" value="1.0" step="0.1" min="0.1">
                        <div class="scale-hint">1.0 = 100%, 0.5 = 50%, 2.0 = 200%</div>
                    </div>
                    <div class="control-group">
                        <label>Z-Index</label>
                        <input type="number" id="overlay4-z-index" placeholder="Z-Index" value="4">
                    </div>
                </div>
            </div>
            <!-- Apply Button -->
            <div class="apply-button-container">
                <button class="apply-button" onclick="applyChanges()">Apply Changes</button>
                <button class="reset-button" onclick="resetToDefault()">Reset All</button>
                <button class="apply-button" onclick="exportConfiguration()">Export Config</button>
            </div>

            <!-- Export/Import Configuration Section -->
            <div id="export-section"
                style="display: none; margin-top: 20px; padding: 20px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px;">
                <h3 style="color: #fff; margin-bottom: 15px; text-align: center;">Export Configuration</h3>
                <div style="margin-bottom: 15px;">
                    <label
                        style="display: block; font-size: 13px; margin-bottom: 5px; color: #b0b0c0; text-transform: uppercase;">Configuration
                        URL:</label>
                    <textarea id="config-url" readonly
                        style="width: 100%; min-height: 80px; padding: 10px; background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; color: #ffffff; font-size: 12px; font-family: monospace; resize: vertical;"></textarea>
                </div>
                <div style="display: flex; justify-content: center; gap: 10px;">
                    <button class="apply-button" style="padding: 10px 30px; font-size: 14px;"
                        onclick="copyConfigURL(event)">Copy URL</button>
                    <button class="reset-button" style="padding: 10px 30px; font-size: 14px;"
                        onclick="closeExportSection()">Close</button>
                </div>
            </div>
        </div>

    </div>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player1;
        let player2;
        let player3;
        let player4;

        let player1videoid = "rRzxEiBLQCA";
        let player2videoid = "rRzxEiBLQCA";
        let player3videoid = "rRzxEiBLQCA";
        let player4videoid = "rRzxEiBLQCA";

        let playersReady = false;
        let configLoadedFromURL = false;

        // Update video IDs from URL params BEFORE YouTube API initializes
        function preloadVideoIdsFromURL() {
            console.log('=== PRELOAD VIDEO IDS FROM URL ===');
            const urlParams = new URLSearchParams(window.location.search);

            const extractVideoId = (url) => {
                if (!url) return null;
                const match = url.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?\&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);
                return match ? match[1] : null;
            };

            const url1 = urlParams.get('r1y');
            const url2 = urlParams.get('r2y');
            const url3 = urlParams.get('r3y');
            const url4 = urlParams.get('r4y');

            if (url1) {
                const id = extractVideoId(url1);
                if (id) {
                    player1videoid = id;
                    console.log(`✓ Preloaded Player 1 video ID: ${id}`);
                }
            }
            if (url2) {
                const id = extractVideoId(url2);
                if (id) {
                    player2videoid = id;
                    console.log(`✓ Preloaded Player 2 video ID: ${id}`);
                }
            }
            if (url3) {
                const id = extractVideoId(url3);
                if (id) {
                    player3videoid = id;
                    console.log(`✓ Preloaded Player 3 video ID: ${id}`);
                }
            }
            if (url4) {
                const id = extractVideoId(url4);
                if (id) {
                    player4videoid = id;
                    console.log(`✓ Preloaded Player 4 video ID: ${id}`);
                }
            }

            console.log('Video IDs after preload:', {
                player1videoid,
                player2videoid,
                player3videoid,
                player4videoid
            });
        }

        // Preload video IDs immediately
        preloadVideoIdsFromURL();

        function onYouTubeIframeAPIReady() {
            console.log('=== YOUTUBE API READY ===');
            console.log('Initializing players with video IDs:', {
                player1videoid,
                player2videoid,
                player3videoid,
                player4videoid
            });

            player1 = new YT.Player('player-1', {
                videoId: player1videoid,
                playerVars: {
                    autoplay: 1,
                    mute: 1,
                    playsinline: 1
                },
                events: {
                    onReady: () => {
                        console.log('Player 1 ready');
                        player1.playVideo();
                        checkAllPlayersReady();
                    }
                }
            });
            player2 = new YT.Player('player-2', {
                videoId: player2videoid,
                playerVars: {
                    autoplay: 1,
                    mute: 1,
                    playsinline: 1
                },
                events: {
                    onReady: () => {
                        console.log('Player 2 ready');
                        player2.playVideo();
                        checkAllPlayersReady();
                    }
                }
            });
            player3 = new YT.Player('player-3', {
                videoId: player3videoid,
                playerVars: {
                    autoplay: 1,
                    mute: 1,
                    playsinline: 1
                },
                events: {
                    onReady: () => {
                        console.log('Player 3 ready');
                        player3.playVideo();
                        checkAllPlayersReady();
                    }
                }
            });
            player4 = new YT.Player('player-4', {
                videoId: player4videoid,
                playerVars: {
                    autoplay: 1,
                    mute: 1,
                    playsinline: 1
                },
                events: {
                    onReady: () => {
                        console.log('Player 4 ready');
                        player4.playVideo();
                        checkAllPlayersReady();
                    }
                }
            });
        }

        function checkAllPlayersReady() {
            if (player1 && player2 && player3 && player4 && !playersReady) {
                playersReady = true;
                console.log('✓ All players ready!');

                // If config was loaded from URL before players were ready, apply it now
                if (configLoadedFromURL) {
                    console.log('Re-applying configuration after players ready...');
                    applyChanges();
                }
            }
        }

    </script>
    <script>
        // Default configurations
        const defaultConfigs = {
            overlay1: { x: 145, y: 65, width: 800, scale: 1.0, zIndex: 1 },
            overlay2: { x: 975, y: 65, width: 800, scale: 1.0, zIndex: 2 },
            overlay3: { x: 145, y: 540, width: 800, scale: 1.0, zIndex: 3 },
            overlay4: { x: 975, y: 540, width: 800, scale: 1.0, zIndex: 4 }
        };
        const focus1 = {
            overlay1: { x: 145, y: 65, width: 800, scale: 2.0, zIndex: 1 },
            overlay2: { x: 160, y: 680, width: 800, scale: 0.6, zIndex: 2 },
            overlay3: { x: 700, y: 680, width: 800, scale: 0.6, zIndex: 3 },
            overlay4: { x: 1250, y: 680, width: 800, scale: 0.6, zIndex: 4 }
        };
        const focus2 = {
            overlay1: { x: 160, y: 680, width: 800, scale: 0.6, zIndex: 2 },
            overlay2: { x: 145, y: 65, width: 800, scale: 2.0, zIndex: 1 },
            overlay3: { x: 700, y: 680, width: 800, scale: 0.6, zIndex: 3 },
            overlay4: { x: 1250, y: 680, width: 800, scale: 0.6, zIndex: 4 }
        };
        const focus3 = {
            overlay1: { x: 160, y: 680, width: 800, scale: 0.6, zIndex: 3 },
            overlay2: { x: 1250, y: 680, width: 800, scale: 0.6, zIndex: 2 },
            overlay3: { x: 145, y: 65, width: 800, scale: 2.0, zIndex: 1 },
            overlay4: { x: 700, y: 680, width: 800, scale: 0.6, zIndex: 4 }
        }
        const focus4 = {
            overlay1: { x: 160, y: 680, width: 800, scale: 0.6, zIndex: 4 },
            overlay2: { x: 1250, y: 680, width: 800, scale: 0.6, zIndex: 3 },
            overlay3: { x: 700, y: 680, width: 800, scale: 0.6, zIndex: 2 },
            overlay4: { x: 145, y: 65, width: 800, scale: 2.0, zIndex: 1 }
        }

        // Apply background color to main container
        function applyBackgroundImage() {
            const fileInput = document.getElementById('bg-image');
            const file = fileInput.files[0]; // get the selected file
            const previewFrame = document.getElementById('previewFrame');

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    previewFrame.style.background = `url(${e.target.result})`;
                    previewFrame.style.backgroundSize = "cover";
                    previewFrame.style.backgroundPosition = "center";
                    previewFrame.style.backgroundRepeat = "no-repeat";
                };
                reader.readAsDataURL(file); // convert file to base64 URL
            } else {
                alert("Please select an image first!");
            }
        }

        // Apply changes to overlays
        function applyChanges() {
            console.log('=== APPLY CHANGES START ===');

            for (let i = 1; i <= 4; i++) {
                console.log(`--- Processing Overlay ${i} ---`);
                const overlayId = `overlay${i}`;
                const overlay = document.getElementById(overlayId);

                const x = parseFloat(document.getElementById(`${overlayId}-x`).value) || 0;
                const y = parseFloat(document.getElementById(`${overlayId}-y`).value) || 0;
                const width = parseFloat(document.getElementById(`${overlayId}-width`).value) || 400;
                const scale = parseFloat(document.getElementById(`${overlayId}-scale`).value) || 1.0;
                const zIndex = parseFloat(document.getElementById(`${overlayId}-z-index`).value) || 1;
                const runnerName = document.getElementById(`runner${i}-input`).value;

                const runnerYtUrl = document.getElementById(`runner${i}-youtube-url`).value;
                const videoId = runnerYtUrl.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?\&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/)?.[1];

                console.log(`Overlay ${i} settings:`, { x, y, width, scale, zIndex });
                console.log(`Runner ${i}:`, { name: runnerName });
                console.log(`YouTube URL (raw):`, runnerYtUrl);
                console.log(`Extracted video ID:`, videoId);

                const height = width / (16 / 9);

                // RUNNER NAME
                document.getElementById(`name${i}`).innerText = runnerName;



                // RUNNER YOUTUBE URL
                const playerVar = i === 1 ? 'player1' : i === 2 ? 'player2' : i === 3 ? 'player3' : 'player4';
                const player = window[playerVar];
                const currentVideoIdVar = `player${i}videoid`;
                const currentVideoId = window[currentVideoIdVar];

                console.log(`Player ${i} status:`, {
                    playerExists: !!player,
                    currentVideoId: currentVideoId,
                    newVideoId: videoId,
                    needsUpdate: currentVideoId !== videoId
                });

                if (i == 1 && videoId && player1 && player1videoid != videoId) {
                    console.log(`✓ Loading new video for Player 1: ${videoId}`);
                    player1videoid = videoId;
                    player1.loadVideoById(videoId);
                } else if (i == 2 && videoId && player2 && player2videoid != videoId) {
                    console.log(`✓ Loading new video for Player 2: ${videoId}`);
                    player2videoid = videoId;
                    player2.loadVideoById(videoId);
                } else if (i == 3 && videoId && player3 && player3videoid != videoId) {
                    console.log(`✓ Loading new video for Player 3: ${videoId}`);
                    player3videoid = videoId;
                    player3.loadVideoById(videoId);
                } else if (i == 4 && videoId && player4 && player4videoid != videoId) {
                    console.log(`✓ Loading new video for Player 4: ${videoId}`);
                    player4videoid = videoId;
                    player4.loadVideoById(videoId);
                } else {
                    console.log(`✗ Skipped loading video for Player ${i}:`, {
                        hasVideoId: !!videoId,
                        playerReady: !!player,
                        isDifferent: currentVideoId !== videoId
                    });
                }

                // Change Button text
                document.getElementById(`btn-focus${i}`).innerText = "Focus " + runnerName;

                document.getElementById(`btn-reload${i}`).innerText = "Reload " + runnerName;

                // MOVEMENT
                overlay.style.transformOrigin = 'top left';

                // 1️⃣ scale first
                overlay.style.transform = `scale(${scale})`;
                overlay.style.zIndex = zIndex;

                // 2️⃣ then move & resize on next frame
                requestAnimationFrame(() => {
                    overlay.style.left = `${x}px`;
                    overlay.style.top = `${y}px`;
                    overlay.style.width = `${width}px`;
                    overlay.style.height = `${height}px`;
                });
            }
            const commentator1 = document.getElementById(`commentator1-input`).value;
            const commentator2 = document.getElementById(`commentator2-input`).value;
            // Commentator name
            document.getElementById(`commentator1-name`).innerText = commentator1;
            document.getElementById(`commentator2-name`).innerText = commentator2;

            console.log('Commentators updated:', { c1: commentator1, c2: commentator2 });

            const marqueeText = document.getElementById(`marquee-text-input`).value;
            document.getElementsByClassName(`marquee-text`)[0].innerText = marqueeText;

            console.log('Marquee text updated:', marqueeText);
            console.log('=== APPLY CHANGES END ===');
        }

        // Reset all overlays to default
        function resetToNormalState() {
            muteall();
            document.getElementById(`overlay1-label`).className = "overlay-label-left";
            document.getElementById(`overlay2-label`).className = "overlay-label";
            document.getElementById(`overlay3-label`).className = "overlay-label-left";
            document.getElementById(`overlay4-label`).className = "overlay-label";
            for (let i = 1; i <= 4; i++) {
                const overlayId = `overlay${i}`;
                const config = defaultConfigs[overlayId];

                document.getElementById(`${overlayId}-x`).value = config.x;
                document.getElementById(`${overlayId}-y`).value = config.y;
                document.getElementById(`${overlayId}-width`).value = config.width;
                document.getElementById(`${overlayId}-scale`).value = config.scale;
                document.getElementById(`${overlayId}-z-index`).value = config.zIndex;
            }
            document.getElementsByClassName("logo-image")[0].style.visibility = "visible";

            applyChanges();
        }
        // Reset all overlays to default
        function resetToDefault() {
            for (let i = 1; i <= 4; i++) {
                const overlayId = `overlay${i}`;
                const config = defaultConfigs[overlayId];

                document.getElementById(`${overlayId}-x`).value = config.x;
                document.getElementById(`${overlayId}-y`).value = config.y;
                document.getElementById(`${overlayId}-width`).value = config.width;
                document.getElementById(`${overlayId}-scale`).value = config.scale;
                document.getElementById(`${overlayId}-z-index`).value = config.zIndex;
            }
            document.getElementsByClassName("logo-image")[0].style.visibility = "hidden";

            applyChanges();
        }
        function resetToFocus1() {
            muteall();
            togglemute1();
            document.getElementById(`overlay1-label`).className = "overlay-label-upleft";
            document.getElementById(`overlay2-label`).className = "overlay-label-left";
            document.getElementById(`overlay3-label`).className = "overlay-label-left";
            document.getElementById(`overlay4-label`).className = "overlay-label-left";
            for (let i = 1; i <= 4; i++) {
                const overlayId = `overlay${i}`;
                const config = focus1[overlayId];

                document.getElementById(`${overlayId}-x`).value = config.x;
                document.getElementById(`${overlayId}-y`).value = config.y;
                document.getElementById(`${overlayId}-width`).value = config.width;
                document.getElementById(`${overlayId}-scale`).value = config.scale;
                document.getElementById(`${overlayId}-z-index`).value = config.zIndex;
            }
            document.getElementsByClassName("logo-image")[0].style.visibility = "hidden";

            applyChanges();
        }
        function resetToFocus2() {
            muteall();
            togglemute2();
            document.getElementById(`overlay1-label`).className = "overlay-label-left";
            document.getElementById(`overlay2-label`).className = "overlay-label-upleft";
            document.getElementById(`overlay3-label`).className = "overlay-label-left";
            document.getElementById(`overlay4-label`).className = "overlay-label-left";
            for (let i = 1; i <= 4; i++) {
                const overlayId = `overlay${i}`;
                const config = focus2[overlayId];

                document.getElementById(`${overlayId}-x`).value = config.x;
                document.getElementById(`${overlayId}-y`).value = config.y;
                document.getElementById(`${overlayId}-width`).value = config.width;
                document.getElementById(`${overlayId}-scale`).value = config.scale;
                document.getElementById(`${overlayId}-z-index`).value = config.zIndex;
            }
            document.getElementsByClassName("logo-image")[0].style.visibility = "hidden";

            applyChanges();
        }
        function resetToFocus3() {
            muteall();
            togglemute3();
            document.getElementById(`overlay1-label`).className = "overlay-label-left";
            document.getElementById(`overlay2-label`).className = "overlay-label-left";
            document.getElementById(`overlay3-label`).className = "overlay-label-upleft";
            document.getElementById(`overlay4-label`).className = "overlay-label-left";
            for (let i = 1; i <= 4; i++) {
                const overlayId = `overlay${i}`;
                const config = focus3[overlayId];

                document.getElementById(`${overlayId}-x`).value = config.x;
                document.getElementById(`${overlayId}-y`).value = config.y;
                document.getElementById(`${overlayId}-width`).value = config.width;
                document.getElementById(`${overlayId}-scale`).value = config.scale;
                document.getElementById(`${overlayId}-z-index`).value = config.zIndex;
            }
            document.getElementsByClassName("logo-image")[0].style.visibility = "hidden";

            applyChanges();
        }
        function resetToFocus4() {
            muteall();
            togglemute4();
            document.getElementById(`overlay1-label`).className = "overlay-label-left";
            document.getElementById(`overlay2-label`).className = "overlay-label-left";
            document.getElementById(`overlay3-label`).className = "overlay-label-left";
            document.getElementById(`overlay4-label`).className = "overlay-label-upleft";
            for (let i = 1; i <= 4; i++) {
                const overlayId = `overlay${i}`;
                const config = focus4[overlayId];

                document.getElementById(`${overlayId}-x`).value = config.x;
                document.getElementById(`${overlayId}-y`).value = config.y;
                document.getElementById(`${overlayId}-width`).value = config.width;
                document.getElementById(`${overlayId}-scale`).value = config.scale;
                document.getElementById(`${overlayId}-z-index`).value = config.zIndex;
            }
            document.getElementsByClassName("logo-image")[0].style.visibility = "hidden";

            applyChanges();
        }


        function reload1() {
            player1.loadVideoById(player1videoid);
        }
        function reload2() {
            player2.loadVideoById(player2videoid);
        }
        function reload3() {
            player3.loadVideoById(player3videoid);
        }
        function reload4() {
            player4.loadVideoById(player4videoid);
        }

        function applyMainLogo() {
            const fileInput = document.getElementById('main-logo-file');
            const file = fileInput.files[0];
            const mainLogo = document.getElementsByClassName("logo-image")[0];

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    mainLogo.src = URL.createObjectURL(file);
                    mainLogo.style.visibility = "visible";
                };
                reader.readAsDataURL(file);
            } else {
                alert("Please select an image first!");
            }

        }

        function togglemute1() {
            if (player1.isMuted()) {
                player1.unMute();
            } else {
                player1.mute();
            }
        }
        function togglemute2() {
            if (player2.isMuted()) {
                player2.unMute();
            } else {
                player2.mute();
            }
        }
        function togglemute3() {
            if (player3.isMuted()) {
                player3.unMute();
            } else {
                player3.mute();
            }
        }
        function togglemute4() {
            if (player4.isMuted()) {
                player4.unMute();
            } else {
                player4.mute();
            }
        }
        function muteall() {
            player1.mute();
            player2.mute();
            player3.mute();
            player4.mute();
        }
        function unmuteall() {
            player1.unMute();
            player2.unMute();
            player3.unMute();
            player4.unMute();
        }
        // Export configuration to URL parameters
        function exportConfiguration() {
            console.log('=== EXPORT CONFIGURATION START ===');

            const config = {
                // Overlays configuration
                o1x: document.getElementById('overlay1-x').value,
                o1y: document.getElementById('overlay1-y').value,
                o1w: document.getElementById('overlay1-width').value,
                o1s: document.getElementById('overlay1-scale').value,
                o1z: document.getElementById('overlay1-z-index').value,

                o2x: document.getElementById('overlay2-x').value,
                o2y: document.getElementById('overlay2-y').value,
                o2w: document.getElementById('overlay2-width').value,
                o2s: document.getElementById('overlay2-scale').value,
                o2z: document.getElementById('overlay2-z-index').value,

                o3x: document.getElementById('overlay3-x').value,
                o3y: document.getElementById('overlay3-y').value,
                o3w: document.getElementById('overlay3-width').value,
                o3s: document.getElementById('overlay3-scale').value,
                o3z: document.getElementById('overlay3-z-index').value,

                o4x: document.getElementById('overlay4-x').value,
                o4y: document.getElementById('overlay4-y').value,
                o4w: document.getElementById('overlay4-width').value,
                o4s: document.getElementById('overlay4-scale').value,
                o4z: document.getElementById('overlay4-z-index').value,

                // Runners information
                r1n: document.getElementById('runner1-input').value,

                r1y: document.getElementById('runner1-youtube-url').value,

                r2n: document.getElementById('runner2-input').value,

                r2y: document.getElementById('runner2-youtube-url').value,

                r3n: document.getElementById('runner3-input').value,

                r3y: document.getElementById('runner3-youtube-url').value,

                r4n: document.getElementById('runner4-input').value,

                r4y: document.getElementById('runner4-youtube-url').value,

                // Commentators
                c1: document.getElementById('commentator1-input').value,
                c2: document.getElementById('commentator2-input').value,

                // Marquee text
                mt: document.getElementById('marquee-text-input').value
            };

            console.log('Configuration object:', config);
            console.log('Overlay 1:', { x: config.o1x, y: config.o1y, width: config.o1w, scale: config.o1s, zIndex: config.o1z });
            console.log('Overlay 2:', { x: config.o2x, y: config.o2y, width: config.o2w, scale: config.o2s, zIndex: config.o2z });
            console.log('Overlay 3:', { x: config.o3x, y: config.o3y, width: config.o3w, scale: config.o3s, zIndex: config.o3z });
            console.log('Overlay 4:', { x: config.o4x, y: config.o4y, width: config.o4w, scale: config.o4s, zIndex: config.o4z });
            console.log('Runner 1:', { name: config.r1n, youtube: config.r1y });
            console.log('Runner 2:', { name: config.r2n, youtube: config.r2y });
            console.log('Runner 3:', { name: config.r3n, youtube: config.r3y });
            console.log('Runner 4:', { name: config.r4n, youtube: config.r4y });
            console.log('Commentators:', { c1: config.c1, c2: config.c2 });
            console.log('Marquee:', config.mt);

            // Create URL with GET parameters
            const params = new URLSearchParams(config);
            const baseUrl = window.location.origin + window.location.pathname;
            const configUrl = `${baseUrl}?${params.toString()}`;

            console.log('Generated URL:', configUrl);
            console.log('URL length:', configUrl.length);
            console.log('=== EXPORT CONFIGURATION END ===');

            // Display in the export section
            document.getElementById('config-url').value = configUrl;
            document.getElementById('export-section').style.display = 'block';

            // Scroll to export section
            document.getElementById('export-section').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Copy configuration URL to clipboard
        function copyConfigURL(event) {
            console.log('=== COPY URL START ===');
            const urlTextarea = document.getElementById('config-url');
            const urlText = urlTextarea.value;

            console.log('URL to copy:', urlText);
            console.log('URL length:', urlText.length);

            urlTextarea.select();
            urlTextarea.setSelectionRange(0, 99999); // For mobile devices

            navigator.clipboard.writeText(urlText).then(() => {
                console.log('✓ URL copied to clipboard successfully');
                // Visual feedback
                const button = event.target;
                const originalText = button.innerText;
                const originalBg = button.style.backgroundColor;

                button.innerText = 'Copied!';
                button.style.backgroundColor = '#22c55e';

                setTimeout(() => {
                    button.innerText = originalText;
                    button.style.backgroundColor = originalBg;
                }, 2000);
                console.log('=== COPY URL END ===');
            }).catch(err => {
                console.error('✗ Failed to copy URL:', err);
                alert('Failed to copy URL: ' + err);
            });
        }

        // Close export section
        function closeExportSection() {
            document.getElementById('export-section').style.display = 'none';
        }

        // Load configuration from URL parameters
        function loadConfigurationFromURL() {
            console.log('=== LOAD CONFIGURATION FROM URL START ===');
            const urlParams = new URLSearchParams(window.location.search);

            console.log('Current URL:', window.location.href);
            console.log('URL search params:', window.location.search);
            console.log('Total parameters found:', Array.from(urlParams.keys()).length);

            // Check if there are any parameters
            if (urlParams.toString() === '') {
                console.log('No configuration parameters found in URL');
                console.log('=== LOAD CONFIGURATION FROM URL END (EMPTY) ===');
                return; // No configuration to load
            }

            configLoadedFromURL = true;  // Set flag to re-apply after players ready

            console.log('Parameters:', Object.fromEntries(urlParams));

            let loadedCount = 0;

            // Load overlay configurations
            const setValueIfExists = (id, param, label) => {
                const value = urlParams.get(param);
                if (value !== null) {
                    const element = document.getElementById(id);
                    if (element) {
                        element.value = value;
                        console.log(`✓ Loaded ${label} (${param}): ${value}`);
                        loadedCount++;
                    } else {
                        console.warn(`✗ Element not found: ${id} for ${label}`);
                    }
                } else {
                    console.log(`- Skipped ${label} (${param}): not in URL`);
                }
            };

            console.log('--- Loading Overlay 1 ---');
            setValueIfExists('overlay1-x', 'o1x', 'Overlay 1 X');
            setValueIfExists('overlay1-y', 'o1y', 'Overlay 1 Y');
            setValueIfExists('overlay1-width', 'o1w', 'Overlay 1 Width');
            setValueIfExists('overlay1-scale', 'o1s', 'Overlay 1 Scale');
            setValueIfExists('overlay1-z-index', 'o1z', 'Overlay 1 Z-Index');

            console.log('--- Loading Overlay 2 ---');
            setValueIfExists('overlay2-x', 'o2x', 'Overlay 2 X');
            setValueIfExists('overlay2-y', 'o2y', 'Overlay 2 Y');
            setValueIfExists('overlay2-width', 'o2w', 'Overlay 2 Width');
            setValueIfExists('overlay2-scale', 'o2s', 'Overlay 2 Scale');
            setValueIfExists('overlay2-z-index', 'o2z', 'Overlay 2 Z-Index');

            console.log('--- Loading Overlay 3 ---');
            setValueIfExists('overlay3-x', 'o3x', 'Overlay 3 X');
            setValueIfExists('overlay3-y', 'o3y', 'Overlay 3 Y');
            setValueIfExists('overlay3-width', 'o3w', 'Overlay 3 Width');
            setValueIfExists('overlay3-scale', 'o3s', 'Overlay 3 Scale');
            setValueIfExists('overlay3-z-index', 'o3z', 'Overlay 3 Z-Index');

            console.log('--- Loading Overlay 4 ---');
            setValueIfExists('overlay4-x', 'o4x', 'Overlay 4 X');
            setValueIfExists('overlay4-y', 'o4y', 'Overlay 4 Y');
            setValueIfExists('overlay4-width', 'o4w', 'Overlay 4 Width');
            setValueIfExists('overlay4-scale', 'o4s', 'Overlay 4 Scale');
            setValueIfExists('overlay4-z-index', 'o4z', 'Overlay 4 Z-Index');

            console.log('--- Loading Runners Information ---');
            setValueIfExists('runner1-input', 'r1n', 'Runner 1 Name');

            setValueIfExists('runner1-youtube-url', 'r1y', 'Runner 1 YouTube');

            setValueIfExists('runner2-input', 'r2n', 'Runner 2 Name');

            setValueIfExists('runner2-youtube-url', 'r2y', 'Runner 2 YouTube');

            setValueIfExists('runner3-input', 'r3n', 'Runner 3 Name');

            setValueIfExists('runner3-youtube-url', 'r3y', 'Runner 3 YouTube');

            setValueIfExists('runner4-input', 'r4n', 'Runner 4 Name');

            setValueIfExists('runner4-youtube-url', 'r4y', 'Runner 4 YouTube');

            console.log('--- Loading Commentators ---');
            setValueIfExists('commentator1-input', 'c1', 'Commentator 1');
            setValueIfExists('commentator2-input', 'c2', 'Commentator 2');

            console.log('--- Loading Marquee ---');
            setValueIfExists('marquee-text-input', 'mt', 'Marquee Text');

            console.log(`Total values loaded: ${loadedCount}`);
            console.log('✓ Configuration loaded from URL successfully');
            console.log('=== LOAD CONFIGURATION FROM URL END ===');
        }

        // Initialize overlays with default values
        window.addEventListener('DOMContentLoaded', () => {
            loadConfigurationFromURL(); // Load config from URL if present
            applyChanges();
        });
    </script>
</body>

</html>